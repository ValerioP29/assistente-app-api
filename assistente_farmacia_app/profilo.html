<!DOCTYPE html>
<html lang="it">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>Assistente Farmacia</title>

		<!-- Favicon -->
		<link rel="icon" type="image/png" href="./assets/favicon/favicon-96x96.png" sizes="96x96" />
		<link rel="icon" type="image/svg+xml" href="./assets/favicon/favicon.svg" />
		<link rel="shortcut icon" href="./assets/favicon/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png" />
		<meta name="apple-mobile-web-app-title" content="Assistente" />
		<link rel="manifest" href="./assets/favicon/site.webmanifest" />

		<!-- Styles -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
		<link rel="stylesheet" href="./assets/css/style.min.css?v=1.1.1" />
	</head>
	<body class="page-app page-profile loading">
		<div id="app" class="app-container">
			<app-header></app-header>
			<app-goback></app-goback>
			<app-body>
				<app-card>
					<h1>Profilo Utente</h1>

					<!-- Dati statici -->
					<div class="info-block">
						<div class="info-line">
							<strong>Username:</strong>
							<span id="username">-</span>
						</div>
						<div class="info-line">
							<strong>Telefono:</strong>
							<span id="phone">-</span>
						</div>
						<div class="info-line">
							<strong>Nome:</strong>
							<span id="name">-</span>
						</div>
						<div class="info-line">
							<strong>Cognome:</strong>
							<span id="surname">-</span>
						</div>
						<div class="info-line">
							<strong>Email:</strong>
							<span id="email">-</span>
						</div>
					</div>
				</app-card>

				<app-card class="d-none">
					<h2>Dati anagrafici</h2>
					<form id="basicForm">
						<div class="mb-3">
							<label class="form-label">Nome</label>
							<input type="text" id="basicName" class="form-control" placeholder="Inserisci il nome" />
							<div class="form-text" id="basicNameHint"></div>
						</div>

						<div class="mb-3">
							<label class="form-label">Cognome</label>
							<input type="text" id="basicSurname" class="form-control" placeholder="Inserisci il cognome" />
							<div class="form-text" id="basicSurnameHint"></div>
						</div>

						<div class="mb-3">
							<label class="form-label">Email</label>
							<input type="email" id="basicEmail" class="form-control" placeholder="Inserisci l'email" />
							<div class="form-text" id="basicEmailHint"></div>
						</div>

						<button type="submit" class="btn btn-primary">Salva dati</button>
					</form>
				</app-card>

				<app-card>
					<h2>Profilazione Iniziale</h2>

					<form id="profilingForm">
						<div class="mb-3">
							<label for="genereInput" class="form-label fw-bold">Qual è il tuo genere?</label>
							<select id="genereInput" class="form-select" required>
								<option value="" disabled>Seleziona...</option>
								<option value="Maschio">Maschio</option>
								<option value="Femmina">Femmina</option>
							</select>
						</div>

						<div class="mb-3">
							<label for="fasciaEtaInput" class="form-label fw-bold">Qual è la tua fascia d'età?</label>
							<select id="fasciaEtaInput" class="form-select" required>
								<option value="" disabled>Seleziona...</option>
								<option value="18-30">18-30</option>
								<option value="30-50">30-50</option>
								<option value="50-70">50-70</option>
								<option value="70+">70+</option>
							</select>
						</div>

						<div class="mb-3">
							<label for="lifestyleInput" class="form-label fw-bold">Stile di vita</label>
							<select id="lifestyleInput" class="form-select" required>
								<option value="" disabled>Seleziona...</option>
								<option value="Molto equilibrato">Molto equilibrato</option>
								<option value="Abbastanza equilibrato">Abbastanza equilibrato</option>
								<option value="Poco equilibrato">Poco equilibrato</option>
							</select>
						</div>

						<div class="mb-3">
							<label class="form-label d-block">Argomenti di interesse (max 3)</label>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Alimentazione e Nutrizione" id="arg1" />
								<label class="form-check-label" for="arg1">Alimentazione e Nutrizione</label>
							</div>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Benessere Fisico e Movimento" id="arg2" />
								<label class="form-check-label" for="arg2">Benessere Fisico e Movimento</label>
							</div>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Gestione dello Stress e del Sonno" id="arg3" />
								<label class="form-check-label" for="arg3">Gestione dello Stress e del Sonno</label>
							</div>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Salute e Prevenzione" id="arg4" />
								<label class="form-check-label" for="arg4">Salute e Prevenzione</label>
							</div>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Cura della Pelle e Beauty Routine" id="arg5" />
								<label class="form-check-label" for="arg5">Cura della Pelle e Beauty Routine</label>
							</div>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Supporto Cognitivo e Memoria" id="arg6" />
								<label class="form-check-label" for="arg6">Supporto Cognitivo e Memoria</label>
							</div>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Benessere Naturale" id="arg7" />
								<label class="form-check-label" for="arg7">Benessere Naturale</label>
							</div>

							<div class="form-check">
								<input class="form-check-input argomento-checkbox" type="checkbox" value="Mamma e Bambino" id="arg8" />
								<label class="form-check-label" for="arg8">Mamma e Bambino</label>
							</div>
						</div>

						<button type="submit" class="btn btn-primary cta-submit">Aggiorna Profilazione</button>
					</form>
				</app-card>

				<app-card>
					<h2>Cambio Password</h2>

					<!-- Form cambio password -->
					<form id="passwordForm">
						<label for="newPassword">Nuova Password</label>
						<input type="password" id="newPassword" required />
						<p class="small text-muted">Almeno 6 caratteri, con 1 maiuscola, 1 minuscola, 1 numero e 1 simbolo.</p>

						<label for="confirmPassword">Conferma Password</label>
						<input type="password" id="confirmPassword" required />

						<button type="submit" class="cta-submit btn btn-primary">Aggiorna Password</button>
					</form>
				</app-card>

				<div class="accordion privacy-accordion my-3" id="profileAccordion">
					<div class="accordion-item mb-3">
						<h2 class="accordion-header" id="headingPrivacy">
							<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePrivacy" aria-expanded="false" aria-controls="collapsePrivacy">
								Privacy & consensi
							</button>
						</h2>

						<div id="collapsePrivacy" class="accordion-collapse collapse" aria-labelledby="headingPrivacy" data-bs-parent="#profileAccordion">
							<div class="accordion-body">
								<div class="form-check mb-2">
									<input class="form-check-input" type="checkbox" checked id="consentPrivacy" name="consentPrivacy" required disabled/>
									<label class="form-check-label" style="opacity:1;" for="consentPrivacy">* Dichiaro di aver preso visione dell'Informativa sulla <a href="./privacy-policy.html" target="_blank" rel="noopener">Privacy</a> e di averne compreso i contenuti.</label>
								</div>

								<div class="form-check mb-2">
									<input class="form-check-input" type="checkbox" checked id="consent_term" name="consent_term" required disabled/>
									<label class="form-check-label" style="opacity:1;" for="consent_term">* Accetto <a href="./termini-di-servizio.html" target="_blank" rel="noopener">Termini e Condizioni di Servizio</a></label>
								</div>

								<div class="form-check mb-2">
									<input class="form-check-input" type="checkbox" checked id="consent_age_profile" name="consent_age_profile" required disabled/>
									<label class="form-check-label" style="opacity:1;" for="consent_age_profile">* Dichiaro di avere almeno 18 anni</label>
								</div>

								<div class="form-check mb-2">
									<input class="form-check-input" type="checkbox" checked id="consent_marketing" name="consent_marketing" />
									<label class="form-check-label" for="consent_marketing">Autorizzo a inviarmi comunicazioni promozionali e aggiornamenti su prodotti, offerte o eventi, tramite email, messaggi o altri canali.</label>
								</div>

								<div class="" style="display:none;">
									<div class="form-check mb-2">
										<input class="form-check-input" type="checkbox" checked id="consent_health_profile" name="consent_health_profile" />
										<label class="form-check-label" for="consent_health_profile">* Consento il trattamento dei miei <strong>dati sanitari</strong> per evadere richieste/prenotazioni</label>
									</div>

									<div class="form-check mb-2">
										<input class="form-check-input" type="checkbox" checked id="consent_chatbot" name="consent_chatbot" />
										<label class="form-check-label" for="consent_chatbot">Chatbot AI per assistenza (opzionale)</label>
									</div>

									<div class="form-check mb-2">
										<input class="form-check-input" type="checkbox" checked id="consent_whatsapp" name="consent_whatsapp" />
										<label class="form-check-label" for="consent_whatsapp">Comunicazioni su WhatsApp per gestire le richieste (opzionale)</label>
									</div>
								</div>

								<button type="button" class="btn btn-primary w-100 p-2 mt-3" id="btnConfirmConsents">
									Salva modifiche
								</button>
							</div>
						</div>
					</div>

					<div class="accordion-item">
						<h2 class="accordion-header" id="headingDelete">
							<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDelete" aria-expanded="false" aria-controls="collapseDelete">
								Eliminazione account
							</button>
						</h2>

						<div id="collapseDelete" class="accordion-collapse collapse" aria-labelledby="headingDelete" data-bs-parent="#profileAccordion">
							<div class="accordion-body">
								<div class="alert alert-danger mb-2 w-100">
									<strong>Eliminazione account</strong><br/>
									Questa azione è immediata. Verrai disconnesso e riportato alla pagina di login.
								</div>
								<button type="button" class="btn btn-danger" id="btnDeleteAccount">
									Elimina account
								</button>
							</div>
						</div>
					</div>

				</div>

				<!-- Modal Eliminazione Account -->
				<div class="modal fade" id="deleteAccountModal" tabindex="-1" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content p-3">
					<div class="modal-header">
						<h5 class="modal-title text-danger">Account in eliminazione</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Chiudi"></button>
					</div>
					<div class="modal-body">
						<p>
						Il tuo account sarà cancellato tra <strong>1 mese</strong>.<br>
						Per annullare la decisione, rieffettua l’accesso entro tale periodo.
						</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
					</div>
					</div>
				</div>
				</div>


			</app-body>
			<app-footer></app-footer>
		</div>

		<!-- Scripts -->
		<script type="module" src="./assets/components/layout.js?v=1.1.1"></script>
		<script type="text/javascript" src="./assets/js/app.js?v=1.1.1"></script>
		<script src="./assets/js/cart.js?v=1.1.1"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script src="./assets/js/page-profilo.js?v=1.1.1"></script>
	</body>
</html>