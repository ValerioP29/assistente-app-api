<!DOCTYPE html>
<html lang="it">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>Assistente Farmacia</title>

		<!-- Favicon -->
		<link rel="icon" type="image/png" href="./assets/favicon/favicon-96x96.png" sizes="96x96" />
		<link rel="icon" type="image/svg+xml" href="./assets/favicon/favicon.svg" />
		<link rel="shortcut icon" href="./assets/favicon/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png" />
		<meta name="apple-mobile-web-app-title" content="Assistente" />
		<link rel="manifest" href="./assets/favicon/site.webmanifest" />

		<!-- Styles -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
		<link rel="stylesheet" href="./assets/css/style.min.css?v=1.1.1" />
	</head>
	<body class="page-app page-reminders loading">
		<div id="app" class="app-container">
			<app-header></app-header>
			<app-goback></app-goback>
			<app-body>
				<app-card>
					<!-- Tabs nav -->
					<ul class="nav nav-tabs w-100 mb-0" id="reminderTab" role="tablist">
						<li class="nav-item w-50" role="presentation">
							<button class="nav-link w-100 active" id="terapia-tab" data-bs-toggle="tab" data-bs-target="#terapia" type="button" role="tab">
								<i class="fas fa-pills me-2"></i>Terapia
							</button>
						</li>
						<li class="nav-item w-50" role="presentation">
							<button class="nav-link w-100" id="scadenza-tab" data-bs-toggle="tab" data-bs-target="#scadenza" type="button" role="tab">
								<i class="fas fa-calendar-times me-2"></i>Scadenza
							</button>
						</li>
					</ul>

					<div class="tab-content w-100" id="reminderTabContent">
						<!-- Tab Terapia -->
						<div class="tab-pane fade show active" id="terapia" role="tabpanel" aria-labelledby="terapia-tab">
							<div class="px-4 pt-4">
								<h1>Promemoria Terapia</h1>
								<!-- Form per aggiungere nuovo promemoria -->
								<div class="add-reminder-form">
									<h3>Aggiungi Nuovo Promemoria</h3>
									<form id="reminderForm" novalidate>
										<div class="form-group">
											<label for="medicationName">Nome Farmaco</label>
											<input type="text" id="medicationName" class="form-control" required>
										</div>
										
										<div class="form-group">
											<label for="prescriptionFile">Foto del prodotto (opzionale)</label>
											<input type="file" id="prescriptionFile" class="form-control" accept="image/*" capture="environment">
											<small class="form-text text-muted">Scatta una foto o carica un'immagine del farmaco</small>
										</div>
										
										<div class="form-group">
											<label for="dosage">Dosaggio</label>
											<input type="text" id="dosage" class="form-control" placeholder="es. 1 compressa" required>
										</div>
										
										<div class="form-row">
											<div class="form-group ">
												<label for="startDate">Data Inizio</label>
												<i class="fas fa-calendar-alt calendar-icon"></i>
												<input type="date" id="startDate" class="form-control" required>
											</div>
											<div class="form-group">
												<label for="endDate">Data Fine</label>
												<i class="fas fa-calendar-alt calendar-icon"></i>
												<input type="date" id="endDate" class="form-control" required>
											</div>
										</div>
										
										<div class="form-group">
											<label for="frequency">Frequenza</label>
											<select id="frequency" class="form-control" required>
												<option value="">Seleziona frequenza</option>
												<option value="daily">Una volta al giorno</option>
												<option value="twice_daily">Due volte al giorno</option>
												<option value="three_times">Tre volte al giorno</option>
											</select>
										</div>
										
										<div class="form-group custom-times" style="display: none;">
											<label>Orari Assunzione</label>
											<div id="timeSlots">
												<div class="time-slot">
													<input type="time" class="form-control time-input" required>
												</div>
											</div>
										</div>
										
										<div class="form-group">
											<label for="notes">Note</label>
											<textarea id="notes" class="form-control" rows="3" placeholder="Note aggiuntive..."></textarea>
										</div>
										
										<button type="submit" class="btn btn-primary w-100">Aggiungi Promemoria</button>
									</form>
								</div>

								<!-- Lista promemoria terapia -->
								<div class="reminders-section">
									<h3>I Tuoi Promemoria Terapia</h3>
									<div id="remindersList" class="reminders-list">
										<!-- I promemoria verranno caricati dinamicamente qui -->
									</div>
								</div>
							</div>
						</div>

						<!-- Tab Scadenza -->
						<div class="tab-pane fade" id="scadenza" role="tabpanel" aria-labelledby="scadenza-tab">
							<div class="px-4 pt-4">
								<h1>Promemoria Scadenza</h1>
								<!-- Form per aggiungere nuovo promemoria scadenza -->
								<div class="add-expiry-form">
									<h3>Aggiungi Promemoria Scadenza</h3>
									<form id="expiryForm" novalidate>
										<div class="form-group">
											<label for="productName">Nome Prodotto</label>
											<input type="text" id="productName" class="form-control" required>
										</div>
										
										<div class="form-group">
											<label for="productPhoto">Foto Prodotto (opzionale)</label>
											<input type="file" id="productPhoto" class="form-control" accept="image/*" capture="environment">
											<small class="form-text text-muted">Scatta una foto o carica un'immagine del prodotto</small>
										</div>
										
										<div class="form-group expiry-date">
											<label for="expiryDate">Data di Scadenza</label>
											<i class="fas fa-calendar-alt calendar-iconExp"></i>
											<input type="date" id="expiryDate" class="form-control" required>
										</div>
										
										<div class="form-group">
											<label for="reminderAlerts">Avvisi di Promemoria</label>
											<select id="reminderAlerts" class="form-control" required>
												<option value="">Seleziona quando ricevere l'avviso</option>
												<option value="30">30 giorni prima</option>
												<option value="15">15 giorni prima</option>
												<option value="7">7 giorni prima</option>
												<option value="1">1 giorno prima</option>
											</select>
										</div>
										
										<div class="form-group">
											<label for="expiryNotes">Note</label>
											<textarea id="expiryNotes" class="form-control" rows="3" placeholder="Note aggiuntive..."></textarea>
										</div>
										
										<button type="submit" class="btn btn-primary w-100">Aggiungi Promemoria Scadenza</button>
									</form>
								</div>

								<!-- Lista promemoria scadenza -->
								<div class="expiry-section">
									<h3>I Tuoi Promemoria Scadenza</h3>
									<div id="expiryList" class="expiry-list">
										<!-- I promemoria scadenza verranno caricati dinamicamente qui -->
									</div>
								</div>
							</div>
						</div>
					</div>
				</app-card>
			</app-body>
			<app-footer></app-footer>
		</div>

		<script type="module" src="./assets/components/layout.js?v=1.1.1"></script>
		<script type="text/javascript" src="./assets/js/app.js?v=1.1.1"></script>
		<script src="./assets/js/cart.js?v=1.1.1"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script src="./assets/js/page-reminders.js?v=1.1.1"></script>
	</body>
</html>
